<style>
  img.inline {
    width: 300px;
    display: block;
  }
</style>
<table class="table">
  <tr>
    <th>Draw</th>
    <td>interval</td>
    <td>{{ctx.drawInterval}}ms</td>
    <td><input type="range" min="0" max="5000" step="100" ng-model="ctx.drawInterval"></input></td>
    <td>transition</td>
    <td>{{ctx.transPulseWidth * ctx.drawInterval}}ms</td>
    <td><input type="range" min="0.1" max="2.0" step="0.1" ng-model="ctx.transPulseWidth"></input></td>
  </tr>
  <tr>
    <th>Signature</th>
    <td>width</td>
    <td>{{ctx.imgSize[0]}}px</td>
    <td><input type="range" min="20" max="200" step="1" ng-model="ctx.imgSize[0]"></input></td>
    <td>height</td>
    <td>{{ctx.imgSize[1]}}px</td>
    <td><input type="range" min="20" max="200" step="1" ng-model="ctx.imgSize[1]"></input></td>
  </tr>
  <tr>
    <th>Limit</th>
    <td>maximum</td>
    <td>{{ctx.imgLimit}}</td>
    <td><input type="range" min="100" max="1000" step="100" ng-model="ctx.imgLimit"></input></td>
    <td>reserve</td>
    <td>{{ctx.blankArea * 100}}%</td>
    <td><input type="range" min="0.01" max="0.05" step="0.01" ng-model="ctx.blankArea"></input></td>
  </tr>
  <tr>
    <th>Background</th>
    <td><input type="color" ng-model="ctx.bgColor"></input></td>
    <td colspan="5"><input type="file" ng-file-select="ctx.selectBg($files)"></input></td>
  </tr>
  <tr>
    <th>Print</th>
    <td>size</td>
    <td>{{ctx.dispSize[0] * ctx.printScale}} * {{ctx.dispSize[1] * ctx.printScale}}</td>
    <td><input type="range" min="1" max="4" step="0.5" ng-model="ctx.printScale"></input></td>
    <td colspan="3">
  </tr>
  <tr>
    <th>Preview</th>
    <td colspan="3">
      <img class="inline img-thumbnail"ng-src="{{ctx.bgImg}}" ng-style="{background: ctx.bgColor}"></img>
    </td>
    <td colspan="3">
      <a ng-if="ctx.snapshot" target="_blank" ng-href="{{ctx.snapshot}}"><img class="inline img-thumbnail" ng-src="{{ctx.snapshot}}"></a>
    </td>
  </tr>
  <tr>
    <th>Control</th>
    <td colspan="6"> 
    <button class="btn btn-primary" ng-click="ctx.connect()">connect</button>
    <button class="btn btn-normal" ng-click="ctx.simulate()">simulate</button>
    <button class="btn btn-warning" ng-click="ctx.pause()" ng-if="ctx.stat.stat === 'playing'">pause</button>
    <button class="btn btn-warning" ng-click="ctx.resume()" ng-if="ctx.stat.stat === 'paused'">resume</button>
    <button class="btn btn-info" ng-click="ctx.print()" ng-if="ctx.stat.stat">print</button>
    </td>
  </tr>
</table>
<ul class="list-group">
  <li class="list-group-item">
    <ul>
      <li>guests: {{ctx.stat.imgInPool || 0}}</li>
      <li>placed: {{ctx.stat.imgPlaced || 0}}</li>
      <li>failed: {{ctx.stat.imgFailed || 0}}</li>
    </ul>
  </li>
</ul>
